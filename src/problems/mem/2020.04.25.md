# 内存泄漏

## 现象

redis的报timeout导致服务内存持续上涨

### 分析

通过监控图查看如下参数，进行原因分析

接口平均耗时
内存情况
Goroutinue数量
CPU

### 结论

从以上图中分析，看出主要是协程数量增加，导致内存升高，耗尽，CPU影响比较小

排除死循环，死循环是迅速占满CPU

排除Goroutinue泄漏，如果是这个的话，Goroutinue会持续上升

由于请求进来，得不到资源等待，Goroutinue等待，一直堆积，ctx传递的时候复制了一份，
超时不释放，所以一直会阻塞
